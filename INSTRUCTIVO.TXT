=================================================
 INSTRUCTIVO Y AUDITORÍA DEL PROYECTO GPSpedia 2.0
=================================================
Fecha de Auditoría: 2024-08-01
Versión del Documento: 2.0 (Resultado de Auditoría)

Este documento detalla los resultados de una auditoría completa del proyecto GPSpedia 2.0. Se han verificado las funcionalidades descritas en el README.md y se han identificado discrepancias, bugs confirmados y funcionalidades pendientes.

---------------------------------
NORMAS OBLIGATORIAS DE DESARROLLO
---------------------------------

Para mantener la consistencia, calidad y mantenibilidad del proyecto, es mandatorio seguir las siguientes normas en todo momento:

**A. Control de Versiones y Documentación:**
1.  **Actualización de Versión:** Cualquier cambio debe reflejarse en el número de versión visible en `index.html` (modal de login) y en los mensajes `doGet` de los servicios de Apps Script.
2.  **Consulta de Documentación:** Antes de cualquier desarrollo, se debe revisar `README.md`, `INSTRUCTIVO.TXT` y `CHANGESLOGS.txt`.
3.  **Actualización de Documentación:** Al finalizar, se deben actualizar los tres documentos mencionados con los detalles de los cambios.
4.  **Detalle en `CHANGESLOGS.txt`:** Cada entrada debe especificar el archivo y número de línea modificado.

**B. Calidad del Código:**
1.  **Comentarios:** Toda línea de código nueva o modificada debe tener un comentario explicando su propósito.

---------------------------------
1. DISCREPANCIAS CON LA DOCUMENTACIÓN
---------------------------------

Se encontraron inconsistencias entre el estado actual del código y la documentación (`INSTRUCTIVO.TXT` v1.2 y `README.md`).

*   **Secciones "Tutoriales" y "Relay":**
    *   **Documentación:** Afirma que la lógica para buscar datos (`fetch`) no existe en la función `mostrarSeccion`.
    *   **Realidad:** ✅ **La lógica SÍ existe.** La función `mostrarSeccion` en `index.html` contiene una llamada `postToAction('getCatalogData')` que se ejecuta correctamente para estas secciones. El error, si persiste, debe estar en la renderización de los datos (`mostrarContenidoTutoriales`, `mostrarContenidoRelay`) o en la respuesta del backend.

*   **Botón de Instalación PWA:**
    *   **Documentación:** Lo describe como una funcionalidad pendiente de implementación.
    *   **Realidad:** ✅ **La funcionalidad SÍ existe.** El archivo `index.html` ya contiene un `event listener` para el evento `beforeinstallprompt`, que gestiona la lógica para mostrar el botón de instalación.

---------------------------------
2. BUGS CONFIRMADOS
---------------------------------

*   **Lógica de Imágenes Incorrecta en el Catálogo:**
    *   **Síntoma:** Las tarjetas de "Categoría" y "Marca" no siempre muestran la imagen más representativa (la del vehículo).
    *   **Causa:** El código en `index.html` (funciones `mostrarCategorias` y `mostrarMarcas`) prioriza la `imagenDeLaApertura` sobre la `imagenDelVehiculo`. La corrección requiere invertir este orden de preferencia.

*   **Error de Layout (Header Fijo):**
    *   **Síntoma:** El encabezado y la barra de búsqueda no se mantienen fijos en la parte superior al hacer scroll.
    *   **Causa:** Los elementos `.header-container` y `.search-container` no tienen las propiedades CSS `position: fixed` o `position: sticky` aplicadas por defecto. Solo se vuelven fijos cuando la búsqueda está activa.

*   **Inconsistencia de Parámetros (Frontend vs. Backend):**
    *   **Síntoma:** Falla silenciosa que podría causar errores en el futuro.
    *   **Causa:** El formulario en `add_cortes.html` envía el parámetro `tipo-encendido` (con guion), mientras que el microservicio `GPSpedia-Catalog` espera `tipoEncendido` (en camelCase) en la función `handleCheckVehicle`. Se debe corregir el atributo `name` en el HTML.

*   **Código de Depuración en Producción:**
    *   **Síntoma:** El microservicio `GPSpedia-Auth` (`services/auth/auth.js`) realiza escrituras innecesarias en la hoja "Logs".
    *   **Causa:** El servicio contiene múltiples llamadas a la función `logToSheet`, la cual debe ser eliminada o desactivada en un entorno de producción para mejorar el rendimiento y la limpieza del código.

---------------------------------
3. FUNCIONALIDADES PENDIENTES (CONFIRMADAS)
---------------------------------

*   **Centralización en Menú Hamburguesa:**
    *   **Tarea:** [COMPLETADO] Mover los botones de navegación de secciones ("Cortes", "Tutoriales", "Relay") y el botón "Agregar Nuevo" desde el div `.section-selector` al interior del menú lateral (`#side-menu`). El botón "Cerrar Sesión" también debe ser centralizado en este menú.

*   **Enlaces Adicionales en el Footer:**
    *   **Tarea:** [COMPLETADO] El `<footer>` de `index.html` actualmente solo muestra el copyright. Es necesario añadir los enlaces "Sobre Nosotros", "Contáctanos" y "Preguntas Frecuentes" y crear los archivos HTML correspondientes.
