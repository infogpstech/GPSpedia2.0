**V6.5.0 - (FIX & CHORE) - 05/01/2026**
**A. FIX DE CARGA DE IMÁGENES Y RESTAURACIÓN DE SERVICIO:** Se solucionó un bug crítico que impedía la carga de todas las imágenes de la aplicación y se restauró el código fuente faltante del `image-service`.

**B. Causa Raíz:**
    1.  **Código Faltante:** El archivo `services/image/image.js`, que es esencial para el proxy de imágenes, estaba ausente del repositorio.
    2.  **Sanitización de Datos en Frontend:** El `catalog-service` enviaba IDs de archivo que a veces contenían comillas dobles (ej. `"fileID"`). La función `getImageUrl` en `api.js` no eliminaba estas comillas, lo que resultaba en una URL malformada y un error 404 del `image-service`.

**C. Cambios Implementados:**
    1.  **`services/image/image.js`:** Se restauró el código fuente completo del `image-service`, reemplazando el archivo placeholder.
    2.  **`api.js` (Línea 97):** Se robusteció la función `getImageUrl` añadiendo lógica para eliminar cualquier comilla doble (`"`) que rodee al `fileId` antes de codificarlo en la URL.

**D. Impacto:**
    - Se restaura la funcionalidad completa de carga de imágenes en toda la aplicación.
    - Se completa la integridad del repositorio al incluir el código fuente del `image-service`.
    - El frontend es ahora más resiliente a datos de `fileId` malformados.

**V6.4.0 - (FIX) - 05/01/2026**
**A. FIX DE INICIALIZACIÓN DE DATOS (FRONTEND):** Se solucionó un `TypeError` que ocurría durante la carga inicial de datos, impidiendo que la aplicación se renderizara después de un login exitoso.

**B. Causa Raíz:**
    - La función `handleLoginSuccess` en `auth.js` intentaba acceder a `catalogData.cortes`, pero la respuesta del backend (`catalog-service`) anida los datos dentro de una propiedad `data`. La estructura correcta de la respuesta es `{ status: 'success', data: { cortes: [...] } }`.
    - Este desajuste en el acceso a la estructura de datos provocaba el error `TypeError: Cannot read properties of undefined (reading 'reduce')`.

**C. Cambios Implementados:**
    1.  **`auth.js` (Líneas 21, 31):** Se corrigió el acceso a los datos para que apunte a la propiedad `data` anidada.
        - Se cambió `catalogData.cortes.reduce` a `catalogData.data.cortes.reduce`.
        - Se actualizó el `setState` para que utilice el spread operator sobre `catalogData.data` en lugar de `catalogData`.

**D. Impacto:**
    - Se restaura el flujo de inicio de sesión y la carga de datos de la aplicación.
    - El frontend ahora maneja correctamente la estructura de respuesta anidada del `catalog-service`, eliminando el error de `TypeError` y permitiendo que la UI se renderice como se esperaba.

**V6.3.0 - (UI FIX) - 05/01/2026**
**A. CORRECCIÓN DEFINITIVA DE VISIBILIDAD DE CONSOLA DE DEPURACIÓN:** Se solucionó de forma permanente el bug que causaba que la consola de depuración fuera visible por defecto al cargar la aplicación.

**B. Causa Raíz:**
    - Un error en el `index.html` incluía dos propiedades `display` conflictivas (`display: none` y `display: flex`) en el estilo en línea del `div#debug-console`. Aunque se había corregido previamente, el error reapareció, indicando un problema de persistencia en el flujo de trabajo.

**C. Cambios Implementados:**
    1.  **`index.html` (Línea 18):** Se eliminó una vez más la propiedad `display: flex;` conflictiva, dejando únicamente `display: none;` para asegurar que la consola esté oculta por defecto.

**D. Impacto:**
    - Se garantiza que la consola de depuración permanezca oculta al iniciar la aplicación, mejorando la experiencia de usuario y evitando la exposición de herramientas de desarrollo.

**V6.2.0 - (INFRA) - 05/01/2026**
**A. ACTUALIZACIÓN DE ENDPOINT DE SERVICIO:** Se actualizó la URL del microservicio `CATALOG` en la configuración del frontend.

**B. Causa Raíz:**
    - El `CATALOG` service fue redesplegado en una nueva URL de Google Apps Script, y el frontend (`api.js`) aún apuntaba al endpoint antiguo.

**C. Cambios Implementados:**
    1.  **`api.js` (Línea 9):** Se reemplazó la URL obsoleta del servicio `CATALOG` por el nuevo endpoint proporcionado.

**D. Impacto:**
    - Se asegura que el frontend se comunique con la versión más reciente del `catalog-service`, permitiendo que las correcciones de bugs y nuevas funcionalidades (como el fix de Tarea 30) tengan efecto en la aplicación.

**V6.1.0 - (CRITICAL FIX) - 05/01/2026**
**A. FIX CRÍTICO DE ARRANQUE (FULL-STACK):** Se solucionó el error crítico que impedía la inicialización de la aplicación, cumpliendo con la TAREA 30.

**B. Causa Raíz:**
    1.  **Backend (`services/catalog/catalog.js`):** La función `handleGetDropdownData` no verificaba si una regla de validación de datos existía antes de intentar usarla, causando un `TypeError` fatal si la regla faltaba en la hoja de cálculo.
    2.  **Frontend (`auth.js`):** El manejador de errores en `handleLoginSuccess` capturaba el error controlado del backend pero no lo registraba en la consola del navegador, mostrando solo un mensaje genérico y ocultando la causa raíz.

**C. Cambios Implementados:**
    1.  **`services/catalog/catalog.js` (Línea 365):** Se añadió una verificación de nulidad (`null check`) para asegurar que el código no falle si la regla de validación de datos no existe, devolviendo un array vacío como fallback seguro.
    2.  **`auth.js` (Línea 38):** Se añadió `console.error(error)` al bloque `catch` para asegurar que cualquier error futuro durante la carga de datos sea visible en la consola del navegador, facilitando la depuración.

**D. Impacto:**
    - Se restaura la capacidad de la aplicación para arrancar correctamente, incluso si la configuración de la hoja de cálculo es imperfecta.
    - Se mejora la robustez del backend ante datos de configuración inesperados.
    - Se mejora la capacidad de depuración del frontend al hacer visibles los errores controlados del backend.
