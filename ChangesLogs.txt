**V8.4.5 - (BUG FIX) - 09/01/2026**
**A. RESUMEN GENERAL:** Se implementó la corrección definitiva para el bug persistente que impedía guardar el "Nombre Completo" al editar un usuario.

**B. Corrección Implementada:**
1.  **Bug de Escritura en Edición (`services/users/users.js`):**
    *   **Problema:** A pesar de correcciones anteriores, el campo "Nombre Completo" seguía sin actualizarse al editar un usuario existente.
    *   **Causa Raíz Definitiva:** La lógica genérica en `handleUpdateUser` para procesar los campos fallaba silenciosamente debido a un conflicto de sensibilidad a mayúsculas/minúsculas (`case-sensitivity`) entre las claves del objeto `updates` enviado por el frontend (ej. `Nombre_Completo`) y las claves esperadas en el bucle del backend.
    *   **Solución:** Se reemplazó el bucle genérico por una serie de bloques `if` explícitos. Este enfoque actualiza cada campo de forma individual, eliminando la ambigüedad del `case` y asegurando que la actualización del "Nombre Completo" (y otros campos) se ejecute de manera fiable.

**C. Cambios Técnicos Implementados:**
- **`services/users/users.js`:** Se refactorizó por completo la lógica de actualización dentro de la función `handleUpdateUser` para usar bloques condicionales explícitos en lugar de un bucle genérico (Líneas 212-227).

**D. Impacto:**
- **Funcionalidad Crítica Restaurada:** La capacidad de editar y guardar correctamente el nombre completo de un usuario está ahora completamente restaurada y robustecida contra errores de `case-sensitivity`, garantizando la integridad de los datos del perfil de usuario.

**V8.4.4 - (CONFIG) - 09/01/2026**
**A. RESUMEN GENERAL:** Se actualizó la configuración del frontend para apuntar a la nueva URL de producción del microservicio de gestión de usuarios (`GPSpedia-Users`) tras una nueva iteración de despliegue.

**B. Cambios de Configuración:**
1.  **Actualización de Endpoint (`api-manager.js`):**
    *   **Motivo:** El servicio de usuarios fue redesplegado en una nueva URL para incorporar correcciones.
    *   **Cambio:** Se actualizó la constante `API_ENDPOINTS.USERS` con el nuevo endpoint proporcionado para asegurar que las solicitudes se dirijan a la versión más reciente del servicio.

**C. Cambios Técnicos Implementados:**
- **`api-manager.js`:** Se modificó la URL del endpoint para el servicio `USERS` (Línea 12).

**D. Impacto:**
- **Continuidad del Servicio:** El frontend ahora se comunica con el endpoint correcto y más actualizado del servicio de usuarios, asegurando que toda la funcionalidad de gestión de usuarios permanezca operativa.

**V8.4.3 - (BUG FIX) - 09/01/2026**
**A. RESUMEN GENERAL:** Se corrigió un bug crítico que impedía que el campo "Nombre Completo" de un usuario se guardara en la base de datos al crear o editar un perfil.

**B. Corrección Implementada:**
1.  **Bug de Escritura en Backend (`services/users/users.js`):**
    *   **Problema:** Al crear o editar un usuario, la información del campo "Nombre Completo" se enviaba correctamente desde el frontend pero era ignorada por el backend, resultando en que el campo nunca se escribía en la Google Sheet.
    *   **Causa Raíz:** Las funciones `handleCreateUser` y `handleUpdateUser` en el servicio de usuarios no incluían la lógica para procesar y guardar el campo `Nombre_Completo` que recibían en el payload.
    *   **Solución:** Se modificaron ambas funciones para que explícitamente lean el valor de `Nombre_Completo` del objeto de entrada y lo escriban en la columna correspondiente de la hoja de cálculo.

**C. Cambios Técnicos Implementados:**
- **`services/users/users.js`:**
    - Se añadió la lógica de escritura para `Nombre_Completo` en la función `handleCreateUser` (Línea 183).
    - Se actualizó la lógica de procesamiento en `handleUpdateUser` para asegurar que el campo `Nombre_Completo` se guarde al editar (Líneas 212-218).

**D. Impacto:**
- **Funcionalidad Esencial Restaurada:** La gestión de la información personal de los usuarios es ahora completamente funcional. Los administradores pueden crear y actualizar perfiles de usuario con su nombre completo, asegurando la integridad de los datos del sistema.

**V8.4.2 - (CONFIG) - 09/01/2026**
**A. RESUMEN GENERAL:** Se actualizó la configuración del frontend para apuntar a la nueva URL de producción del microservicio de gestión de usuarios (`GPSpedia-Users`).

**B. Cambios de Configuración:**
1.  **Actualización de Endpoint (`api-manager.js`):**
    *   **Motivo:** El servicio de usuarios fue desplegado en una nueva URL.
    *   **Cambio:** Se actualizó la constante `API_ENDPOINTS.USERS` con el nuevo endpoint proporcionado para asegurar que las solicitudes de gestión de usuarios se dirijan a la versión más reciente del servicio.

**C. Cambios Técnicos Implementados:**
- **`api-manager.js`:** Se modificó la URL del endpoint para el servicio `USERS` (Línea 12).

**D. Impacto:**
- **Continuidad del Servicio:** El frontend ahora se comunica con el endpoint correcto del servicio de usuarios, asegurando que la funcionalidad de inicio de sesión, creación, edición y eliminación de usuarios siga operativa tras el nuevo despliegue.

**V8.4.1 - (CRITICAL REGRESSION FIX) - 09/01/2026**
**A. RESUMEN GENERAL:** Se corrigieron tres regresiones críticas interconectadas en el módulo de gestión de usuarios que impedían la correcta visualización, actualización y eliminación de usuarios.

**B. Correcciones Implementadas:**
1.  **Bug de Visualización de "Nombre Completo" (`services/users/users.js`):**
    *   **Problema:** La tabla de usuarios mostraba el `SessionToken` en lugar del "Nombre Completo" del usuario.
    *   **Causa Raíz:** El mapeo de columnas (`COLS_USERS`) en el backend no estaba sincronizado con la estructura real de 8 columnas de la base de datos en Google Sheets.
    *   **Solución:** Se actualizó la constante `COLS_USERS` para reflejar el esquema correcto de 8 columnas, asignando `Nombre_Completo: 7` y `SessionToken: 8`.

2.  **Bug de Actualización de Usuario (`services/users/users.js`):**
    *   **Problema:** La edición de un usuario fallaba con el error "Usuario no encontrado para actualizar".
    *   **Causa Raíz:** Un conflicto de sensibilidad a mayúsculas/minúsculas (`case-sensitivity`). El backend enviaba el ID como `ID` (mayúsculas), pero el frontend (`users.html`) intentaba leerlo como `id` (minúsculas), enviando `undefined` de vuelta.
    *   **Solución:** Se modificó la función `handleGetUsers` en el backend para construir manualmente el objeto de respuesta, asegurando que la propiedad del identificador sea siempre `ID` (mayúsculas), coincidiendo con lo que el frontend espera.

3.  **Bug de Eliminación de Usuario (`services/users/users.js`):**
    *   **Problema:** La eliminación de un usuario fallaba de manera intermitente.
    *   **Causa Raíz:** Este era un síntoma secundario del mapeo de columnas incorrecto. La corrupción de datos interna impedía que la lógica de búsqueda y eliminación del backend funcionara de manera fiable.
    *   **Solución:** La corrección del mapeo de columnas (`COLS_USERS`) resolvió este problema al restaurar la integridad de los datos que maneja el servicio.

**C. Cambios Técnicos Implementados:**
- **`services/users/users.js`:**
    - Se actualizó el objeto `COLS_USERS` para un esquema de 8 columnas (Líneas 30-38).
    - Se refactorizó la función `handleGetUsers` para asegurar la consistencia del `ID` de usuario (Líneas 140-149).
- **`users.html`:** No se requirieron cambios; la lógica del frontend era correcta y los problemas se originaban en el backend.

**D. Impacto:**
- **Funcionalidad Crítica Restaurada:** El módulo de gestión de usuarios es ahora completamente funcional. Los administradores pueden ver, editar y eliminar usuarios de manera fiable, lo cual es esencial para la administración del sistema.
- **Integridad de Datos Asegurada:** Se ha restaurado la coherencia entre el backend y la base de datos, previniendo futuros errores de corrupción de datos.

**V8.4.0 - (FEATURE & CONFIG) - 09/01/2026**
**A. RESUMEN GENERAL:** Se implementó de extremo a extremo la funcionalidad para gestionar el nombre completo de los usuarios y se actualizó el endpoint del servicio de usuarios a su nueva URL de producción.

**B. Mejoras y Correcciones Implementadas:**
1.  **Implementación de "Nombre Completo" (`services/users/users.js` y `users.html`):**
    *   **Backend:** Se actualizó el esquema de la base de datos y la lógica del servicio para aceptar, almacenar y devolver el nombre completo del usuario.
    *   **Frontend:** Se corrigió el formulario de gestión de usuarios para que envíe el nombre completo al backend, completando la funcionalidad.

2.  **Actualización de Configuración (`api-manager.js`):**
    *   Se actualizó la constante `API_ENDPOINTS.USERS` para que apunte a la nueva URL del servicio de usuarios desplegado, asegurando que el frontend se comunique con la versión más reciente del backend.

**C. Cambios Técnicos Implementados:**
- **`services/users/users.js`:** Se actualizó `COLS_USERS` y las funciones `handleCreateUser`, `handleUpdateUser` y `handleGetUsers`.
- **`users.html`:** Se actualizó `handleUserFormSubmit` para enviar el campo `Nombre_Completo`.
- **`api-manager.js`:** Se modificó la URL del endpoint para el servicio `USERS`.

**D. Impacto:**
-   **Funcionalidad Crítica Habilitada:** El sistema ahora puede gestionar de forma completa el nombre completo de los usuarios.
-   **Conectividad Asegurada:** El frontend ahora se comunica con el servicio de usuarios correcto y más reciente.
