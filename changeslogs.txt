GPSpedia - REGISTRO DE CAMBIOS VERIFICADO
=================================================
Este changelog sigue un versionamiento semántico estricto (X.YY.ZZ) y solo incluye cambios verificados en el código fuente.
El versionado fue reiniciado a 2.00.00 en la fecha 2024-08-20.

-------------------------------------------------
**v2.11.01**
*   **fix(api-manager.js):** Se agregaron las acciones `addOrUpdateCut` y `addSupplementaryInfo` al mapa de enrutamiento (`ACTION_TO_SERVICE_MAP`), corrigiendo un error de "Acción no definida" y permitiendo que el formulario de adición de cortes se comunique con el backend.

**v2.11.00**
*   **feat(add_cortes.html):** Se refactorizó el formulario de adición de cortes (Etapa 2) para utilizar un sistema de subida de archivos (`input[type="file"]`) con vista previa, en lugar del campo de URL anterior, alineando la funcionalidad con los requisitos.

**v2.10.05**
*   **fix(add_cortes.html):** Se añadió un bloque `try...catch` a la función `handleSuggestion`. Esto previene que un fallo en la llamada a la API (a una acción no enrutada) detenga la ejecución de todo el script, solucionando un bug que impedía renderizar los resultados de la búsqueda.

**v2.10.04**
*   **chore(.gitignore):** Se creó el archivo `.gitignore` para excluir los archivos de log (`*.log`) del control de versiones.

**v2.10.03**
*   **fix(add_cortes.html):** Se solucionó un bug donde la galería de imágenes (`SimpleLightbox`) no se inicializaba para los resultados de búsqueda cargados dinámicamente. La inicialización ahora ocurre después de que se renderizan los resultados.

**v2.10.02**
*   **refactor(add_cortes.html):** Se mejoró el flujo de anti-duplicados reemplazando el modal de elección por botones de acción inline ("Es uno nuevo", "Agregar información adicional"), haciendo la interfaz de usuario más directa.

**v2.10.01**
*   **refactor(add_cortes.html):** Se modificó el flujo de anti-duplicados. En lugar de navegar directamente, ahora se presenta al usuario un modal con opciones claras ("Agregar Nuevo Corte", "Agregar Información Suplementaria"), previniendo acciones no deseadas.

**v2.10.00**
*   **feat(add_cortes.html):** Se mejoró la usabilidad del formulario de adición de cortes añadiendo un botón explícito de "Seleccionar este Vehículo" y gestionando el historial del navegador (`history.pushState`) para permitir el uso del botón "Atrás".

**v2.09.00**
*   **feat(add_cortes.html):** Se integró una galería de imágenes (`SimpleLightbox`) en los resultados de búsqueda, permitiendo a los usuarios ver las imágenes de los cortes existentes en tamaño completo.

**v2.08.00**
*   **feat(services/write/write.js):** Se refactorizó la lógica de subida de imágenes para crear una estructura de carpetas jerárquica en Google Drive (`Categoria/Marca/Modelo/Año`) y renombrar los archivos a un formato estandarizado para una mejor organización.

**v2.07.00**
*   **feat(add_cortes.html):** Se rediseñó la visualización de resultados en la búsqueda de vehículos. Ahora se muestran tarjetas detalladas que incluyen la imagen del vehículo y miniaturas de los cortes existentes, proporcionando un contexto visual claro para evitar duplicados.

**v2.06.00**
*   **feat(full-stack):** Se implementó la funcionalidad "Quizás quisiste decir..." en el formulario de búsqueda. El backend (`catalog.js`) ahora usa el algoritmo de distancia de Levenshtein para encontrar sugerencias, y el frontend (`add_cortes.html`) las muestra al usuario.

**v2.05.00**
*   **feat(services/catalog/catalog.js):** Se implementó una lógica de búsqueda flexible en `handleCheckVehicle`. La búsqueda de `marca` y `modelo` ahora es parcial e insensible a mayúsculas/minúsculas, mejorando la tasa de coincidencias.

**v2.04.08**
*   **fix(services/catalog/catalog.js):** Se solucionó un `TypeError` crítico que impedía la carga de datos del formulario. La estructura del objeto JSON devuelto por `handleGetDropdownData` fue corregida para que coincida con la que esperaba el frontend.

**v2.04.07**
*   **fix(services/catalog/catalog.js):** Se corrigió un `TypeError: ... .getValues is not a function` que ocurría al intentar leer las opciones de un desplegable desde las reglas de validación de la hoja de cálculo.

**v2.04.06**
*   **fix(index.html):** Se resolvió un `ReferenceError: crearCarrusel is not defined` moviendo la definición de la función al ámbito global, lo que asegura que esté disponible antes de ser llamada y previene un fallo crítico en la inicialización de la app.

**v2.04.05**
*   **refactor(index.html):** Se generalizó la lógica de navegación de los carruseles en una función `crearCarrusel` reutilizable para mejorar la consistencia y mantenibilidad del código.

**v2.04.04**
*   **refactor(index.html):** Se rediseñó el modal de detalles del vehículo para alinearlo con la especificación de 12 puntos del `README.md`, corrigiendo el orden del contenido, el layout del encabezado y la visualización de videos e imágenes de relay.

**v2.04.03**
*   **refactor(services/catalog/catalog.js):** Se centralizó la lógica de conversión de URLs de Google Drive a thumbnails, extendiendo la función `convertirAGoogleThumbnail` para que también procese las imágenes de las secciones "Tutoriales" y "Relay" en el backend.

**v2.04.02**
*   **fix(index.html):** Se corrigió la función `handleLike` para asegurar que el `userId` se envíe correctamente al backend, reparando la funcionalidad de "like" y la sugerencia de año.

**v2.04.01**
*   **fix(full-stack):** Se solucionó un bug crítico en la renderización de imágenes de Google Drive en toda la aplicación. La expresión regular utilizada para extraer el ID del archivo fue mejorada en `index.html`, `catalog.js` y `utilities.js` para ser compatible con múltiples formatos de URL.

**v2.04.00**
*   **feat(index.html):** Se implementó la lógica de frontend para la sugerencia de año. Después de hacer clic en "Útil", ahora se le pregunta al usuario si el corte aplica a otro año y se envía la sugerencia al backend.

**v2.03.07**
*   **refactor(index.html):** Se mejoró la función `getLogoUrlForMarca` con un algoritmo de búsqueda flexible que normaliza los nombres y utiliza la categoría para desambiguar entre variantes de logos (ej. 'Honda' vs 'Honda Motocicletas'), asegurando que se muestre el logo correcto.

**v2.03.06**
*   **fix(index.html):** Se resolvió un `ReferenceError: updateCarousel is not defined` que detenía la ejecución de JavaScript. La llamada a la función se movió para asegurar que solo se ejecute si la función ha sido definida.

**v2.03.05**
*   **fix(full-stack):** Se corrigió la lógica de ordenamiento de categorías. El backend (`catalog.js`) ahora ordena las categorías por popularidad (cantidad de vehículos) y el frontend (`index.html`) respeta ese orden, eliminando su propio ordenamiento alfabético.

**v2.03.04**
*   **fix(index.html):** Se restauró la lógica para el botón de instalación de la PWA (`beforeinstallprompt`), que había sido eliminada accidentalmente, solucionando una regresión que impedía a los usuarios instalar la aplicación.

**v2.03.03**
*   **style(index.html):** Se movió la sección "Video Guía de Desarme" dentro de un acordeón colapsable en el modal de detalles, unificando la experiencia de usuario con las otras secciones de información suplementaria.

**v2.03.02**
*   **style(index.html):** Se rediseñaron los botones de feedback ("Útil" y "Reportar") en el modal de detalles para que sean más compactos, mostrando solo un ícono y texto.

**v2.03.01**
*   **fix(users.html):** Se solucionó un bug que causaba que los datos de los usuarios se mostraran como "undefined". Se corrigió el acceso a las propiedades en el frontend para que coincida con el esquema del backend (`PascalCase_With_Underscores`).

**v2.03.00**
*   **feat(full-stack):** Se implementó la funcionalidad de "Inbox" para la gestión de feedback. Se añadieron los endpoints en `feedback.js` y la interfaz de usuario correspondiente en un modal en `index.html`.

**v2.02.00**
*   **feat(full-stack):** Se implementó un nuevo microservicio `GPSpedia-Utilities` y una interfaz de "Herramientas de Desarrollador" en `index.html` para ejecutar acciones de migración de datos de forma segura.

**v2.01.03**
*   **fix(index.html):** Se añadió la lógica para renderizar las imágenes suplementarias (apertura, cable de alimentación) en sus correspondientes secciones dentro del modal de detalles.

**v2.01.02**
*   **fix(index.html):** Se corrigió la lógica del modal de detalles para que el corte "recomendado" (con más "likes") se muestre siempre visible por defecto, mientras que los demás cortes se presentan en secciones desplegables.

**v2.01.01**
*   **fix(index.html):** Se corrigió un error tipográfico en el nombre de la acción del formulario de contacto (`sendContacForm` -> `sendContactForm`), lo que impedía su envío.

**v2.01.00**
*   **feat(index.html):** Se eliminó la página `info.html` y su contenido ("Sobre Nosotros", "Contáctanos", "FAQ") fue integrado como modales dentro de `index.html`, evitando recargas de página completas para acceder a esta información.

**v2.00.00**
*   **chore(versioning):** Se establece la versión base 2.00.00 para el reinicio del sistema de versionamiento. El sistema ahora sigue un formato semántico estricto X.YY.ZZ (Arquitectura.Menor.Parche).
