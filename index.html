<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GPSpedia 2.0</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link rel="stylesheet" href="style.css">
    <link rel="manifest" href="manifest.json">
    <meta name="theme-color" content="#ffffff"/>
</head>
<body>
    <!-- Pantalla de Carga (Splash Screen) -->
    <div id="splash-screen">
        <img src="icon-pwa-192x192.png" alt="Cargando GPSpedia...">
    </div>

    <!-- Modal de Inicio de Sesión -->
    <div id="login-modal">
        <div class="modal-content">
            <h2>Bienvenido a GPSpedia</h2>
            <form id="login-form">
                <div class="form-group">
                    <label for="username">Usuario</label>
                    <input type="text" id="username" required>
                </div>
                <div class="form-group">
                    <label for="password">Contraseña</label>
                    <input type="password" id="password" required>
                </div>
                <button type="submit">Iniciar Sesión</button>
            </form>
        </div>
    </div>

    <!-- Contenido Principal de la Aplicación -->
    <main id="main-content" style="display: none;">
        <div class="container">
            <!-- Menú Hamburguesa -->
            <button id="hamburger-btn" style="position: fixed; top: 20px; right: 20px; z-index: 2600;">&#9776;</button>

            <!-- Menú Lateral Desplegable -->
            <div id="side-menu">
                 <nav>
                    <a href="#" class="menu-link" data-modal-target="about-modal"><i class="fas fa-info-circle"></i> Sobre Nosotros</a>
                    <a href="#" class="menu-link" data-modal-target="contact-modal"><i class="fas fa-envelope"></i> Contáctanos</a>
                    <a href="#" class="menu-link" data-modal-target="faq-modal"><i class="fas fa-question-circle"></i> Preguntas Frecuentes</a>
                    <a href="#" class="menu-link" data-modal-target="inbox-modal"><i class="fas fa-inbox"></i> Bandeja de Entrada</a>
                    <a href="#" id="logout-btn"><i class="fas fa-sign-out-alt"></i> Cerrar Sesión</a>
                </nav>
                 <div class="theme-switch-wrapper">
                    <span>Modo Oscuro</span>
                    <label class="theme-switch" for="theme-switch">
                        <input type="checkbox" id="theme-switch" />
                        <div class="slider"></div>
                    </label>
                </div>
            </div>
            <div id="menu-overlay"></div>


            <!-- Encabezado -->
            <header class="header-container">
                 <div class="header-branding">
                    <img src="icon-pwa-192x192.png" alt="Logo GPSpedia" class="app-logo">
                    <h1 class="app-title">GPSpedia</h1>
                </div>
                <div id="header-controls">
                    <span id="welcome-message"></span>
                </div>
            </header>
            <button id="install-button" style="display: none;">Instalar App</button>


            <!-- Barra de Búsqueda -->
            <div class="search-container">
                <input type="text" id="searchInput" placeholder="Buscar por marca, modelo o año...">
                <button id="clear-search-btn">&times;</button>
            </div>

            <!-- Selector de Secciones -->
            <div class="section-selector">
                <button class="section-btn active" data-section="ultimos-agregados">Últimos Agregados</button>
                <button class="section-btn" data-section="categorias">Categorías</button>
                <button class="section-btn" data-section="marcas-vehiculos">Marcas de Vehículos</button>
                <button class="section-btn" data-section="marcas-motos">Marcas de Motos</button>
            </div>


            <!-- Sección de Resultados de Búsqueda (inicialmente oculta) -->
            <div id="search-results" class="content-section" style="display: block;"></div>


            <!-- Sección Últimos Agregados -->
            <div id="ultimos-agregados-section" class="content-section" style="display: block;">
                <h2>Últimos Agregados</h2>
                <div class="carousel-container" id="ultimos-agregados-carousel">
                    <button class="carousel-btn prev">&#10094;</button>
                    <div class="carousel-track"></div>
                    <button class="carousel-btn next">&#10095;</button>
                </div>
            </div>

            <!-- Sección Categorías -->
            <div id="categorias-section" class="content-section" style="display: none;">
                <h2>Categorías</h2>
                <div class="carousel-container" id="categorias-carousel">
                    <button class="carousel-btn prev">&#10094;</button>
                    <div class="carousel-track"></div>
                    <button class="carousel-btn next">&#10095;</button>
                </div>
            </div>

            <!-- Sección Marcas de Vehículos -->
            <div id="marcas-vehiculos-section" class="content-section" style="display: none;">
                <h2>Marcas de Vehículos</h2>
                 <div class="carousel-container" id="marcas-vehiculos-carousel">
                    <button class="carousel-btn prev">&#10094;</button>
                    <div class="carousel-track"></div>
                    <button class="carousel-btn next">&#10095;</button>
                </div>
            </div>

             <!-- Sección Marcas de Motos -->
            <div id="marcas-motos-section" class="content-section" style="display: none;">
                <h2>Marcas de Motos</h2>
                 <div class="carousel-container" id="marcas-motos-carousel">
                    <button class="carousel-btn prev">&#10094;</button>
                    <div class="carousel-track"></div>
                    <button class="carousel-btn next">&#10095;</button>
                </div>
            </div>

        </div> <!-- Fin .container -->

        <!-- Pie de Página -->
        <footer class="footer">
            <div class="footer-links">
                 <a href="#" class="menu-link" data-modal-target="about-modal">Sobre Nosotros</a>
                 <a href="#" class="menu-link" data-modal-target="contact-modal">Contáctanos</a>
                 <a href="#" class="menu-link" data-modal-target="faq-modal">Preguntas Frecuentes</a>
            </div>
            <p>&copy; 2026 GPSpedia. Todos los derechos reservados.</p>
        </footer>
    </main>

    <!-- Modal para Detalles Completos -->
    <div id="modalDetalle">
        <div id="detalleCompleto">
            <!-- Contenido se inyectará aquí -->
        </div>
    </div>

    <!-- Lightbox para Imágenes -->
    <div class="lightbox">
        <img src="" alt="Vista ampliada">
    </div>

    <!-- Modales de Información -->
    <div id="about-modal" class="info-modal">
        <div class="info-modal-content">
            <span class="info-close-btn">&times;</span>
            <h2>Sobre Nosotros</h2>
            <p>GPSpedia es una herramienta...</p>
        </div>
    </div>

    <div id="contact-modal" class="info-modal">
        <div class="info-modal-content">
            <span class="info-close-btn">&times;</span>
            <h2>Contáctanos</h2>
            <form id="contact-form">
               <div class="form-group">
                    <label for="contact-name">Nombre:</label>
                    <input type="text" id="contact-name" name="nombre" required>
                </div>
                <div class="form-group">
                    <label for="contact-email">Email:</label>
                    <input type="email" id="contact-email" name="email" required>
                </div>
                <div class="form-group">
                    <label for="contact-message">Mensaje:</label>
                    <textarea id="contact-message" name="mensaje" rows="5" required></textarea>
                </div>
                <button type="submit">Enviar Mensaje</button>
            </form>
        </div>
    </div>

    <div id="faq-modal" class="info-modal">
         <div class="info-modal-content">
            <span class="info-close-btn">&times;</span>
            <h2>Preguntas Frecuentes</h2>
            <p><strong>¿Cómo reporto un problema con un diagrama?</strong><br>...</p>
        </div>
    </div>
    <div id="inbox-modal" class="info-modal">
        <div class="info-modal-content">
            <span class="info-close-btn">&times;</span>
            <div id="inbox-container">
                 <!-- Las notificaciones se cargarán aquí -->
                 <p>Cargando mensajes...</p>
            </div>
        </div>
    </div>


    <!-- Toast de Error Global -->
    <div id="error-toast"></div>

    <!-- Toast de Notificación -->
    <div id="notification-toast"></div>


    <script src="api-manager.js"></script>
    <script src="main.js"></script>
</body>
</html>
