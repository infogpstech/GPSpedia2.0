<!-- GPSpedia Frontend Component | Version: 2.0 -->
<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GPSpedia v2.0</title>
<link rel="icon" href="https://drive.google.com/thumbnail?id=1NxBx-W_gWmcq3fA9zog6Dpe-WXpH_2e8&sz=w256">
<link rel="manifest" href="manifest.json">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
<link rel="stylesheet" href="style.css">
</head>
<body>
<!-- Notificaci√≥n Toast -->
<div id="notification-toast"></div>

<!-- Contenedor de la Consola de Depuraci√≥n -->
<div id="debug-console" style="display: none; position: fixed; bottom: 10px; right: 10px; width: 450px; height: 350px; background-color: rgba(20, 20, 30, 0.9); color: #00ff00; border: 1px solid #00ff00; border-radius: 8px; z-index: 9999; flex-direction: column; font-family: 'Courier New', Courier, monospace; box-shadow: 0 0 15px rgba(0, 255, 0, 0.5); backdrop-filter: blur(5px);">
    <div id="debug-header" style="padding: 8px; background-color: #00ff00; color: #14141e; font-weight: bold; cursor: move; border-top-left-radius: 7px; border-top-right-radius: 7px; display: flex; justify-content: space-between; align-items: center;">
        <span>GPSpedia Debug Console</span>
        <div>
            <button id="debug-clear" style="background:none; border:none; color:#14141e; cursor:pointer; font-size: 14px; margin-right: 5px;">[Clear]</button>
            <button id="debug-close" style="background:none; border:none; color:#14141e; cursor:pointer; font-size: 16px;">[X]</button>
        </div>
    </div>
    <div id="debug-log" style="flex-grow: 1; overflow-y: auto; padding: 10px; font-size: 13px; line-height: 1.4;"></div>
    <div id="debug-resize-handle" style="height: 10px; background-color: #00ff00; cursor: ns-resize;"></div>
</div>
<!-- Notificaci√≥n de Error Global -->
<div id="error-toast"></div>

<!-- Side Menu (Hamburger) -->
<div id="menu-overlay"></div>
<div id="side-menu">
    <div style="padding: 20px; border-bottom: 1px solid #eee; text-align: center;">
        <h3 id="menu-username" style="margin: 0; color: #007bff;"></h3>
    </div>
    <nav>
        <a href="#" id="menu-cortes" class="menu-link"><i class="fa-solid fa-car-on"></i> Cortes</a>
        <a href="add_cortes.html" class="menu-link"><i class="fa-solid fa-plus-circle"></i> Agregar Nuevo</a>
        <a href="#" id="menu-tutoriales" class="menu-link"><i class="fa-solid fa-book-open"></i> Tutoriales</a>
        <a href="#" id="menu-relay" class="menu-link"><i class="fa-solid fa-microchip"></i> Configuraci√≥n Relay</a>
        <a href="users.html" class="menu-link"><i class="fa-solid fa-users-cog"></i> Mi Perfil / Usuarios</a>
        <a href="#" id="inbox-btn" class="menu-link" style="display: none;"><i class="fa-solid fa-inbox"></i> Inbox</a>
        <a href="#" id="dashboard-btn" class="menu-link" style="display: none;"><i class="fa-solid fa-chart-line"></i> Dashboard</a>
        <a href="#" id="dev-tools-btn" class="menu-link" style="display: none;"><i class="fa-solid fa-code"></i> Desarrollador</a>
    </nav>
    <div class="theme-switch-wrapper">
        <label style="margin-right: 10px;">Modo Oscuro</label>
        <label class="theme-switch" for="dark-mode-toggle">
            <input type="checkbox" id="dark-mode-toggle" />
            <div class="slider round"></div>
        </label>
    </div>
    <div style="padding: 20px;">
        <button id="side-menu-logout-button" style="width: 100%; background: #dc3545; color: #fff; border: none; padding: 12px; border-radius: 8px; cursor: pointer;">Cerrar Sesi√≥n</button>
    </div>
</div>

<!-- Splash Screen -->
<div id="splash-screen">
    <img src="https://drive.google.com/thumbnail?id=1NxBx-W_gWmcq3fA9zog6Dpe-WXpH_2e8&sz=w512" alt="Logo de GPSpedia">
</div>

<!-- Login Modal -->
<div id="login-modal" style="display: none;">
    <div class="modal-content">
        <img src="icon-v3-512x512.png" alt="Logo de GPSpedia" style="max-width: 120px; margin-bottom: 20px;">
        <h2>Iniciar Sesi√≥n</h2>
        <form id="login-form">
            <div class="form-group">
                <label for="username">Usuario</label>
                <input type="text" id="username" name="username" required autocomplete="username">
            </div>
            <div class="form-group">
                <label for="password">Contrase√±a</label>
                <input type="password" id="password" name="password" required autocomplete="current-password">
            </div>
            <button type="submit">Acceder</button>
            <p id="login-error" style="color: red; display: none;"></p>
            <div style="text-align: center; margin-top: 20px;">
                <small style="color: rgba(255,255,255,0.5);">v2.0</small>
            </div>
        </form>
        <a href="#" id="forgot-password-link" style="color: #a0cfff; text-decoration: none; margin-top: 15px; display: inline-block;">¬øOlvidaste tu contrase√±a?</a>
    </div>
</div>

<div class="container" style="display: none;">

  <!-- RECONSTRUCCI√ìN EXTREMA DEL HEADER: Contenedor Maestro √önico -->
  <header class="main-header">
      <!-- Fila 1: Branding y Controles -->
      <div class="header-top">
          <div class="header-branding">
              <img src="https://drive.google.com/thumbnail?id=1NxBx-W_gWmcq3fA9zog6Dpe-WXpH_2e8&sz=2048" alt="Logo de GPSpedia" class="app-logo">
              <div class="title-welcome-group">
                  <h1 class="app-title">GPSpedia</h1>
                  <span id="welcome-message" style="display: none;"></span>
              </div>
          </div>
          <div class="header-controls">
              <button id="install-button" style="display: none;">Instalar</button>
              <button id="logout-button" style="display: none;">Cerrar Sesi√≥n</button>
          </div>
      </div>

      <!-- Fila 2: B√∫squeda y Navegaci√≥n Principal -->
      <div class="header-bottom">
          <div class="search-wrapper">
              <div class="search-container">
                  <input type="text" id="searchInput" placeholder="Buscar Corte...">
                  <button id="clear-search-btn" title="Limpiar b√∫squeda">&times;</button>
              </div>
              <button id="hamburger-btn"><i class="fa-solid fa-bars"></i></button>
          </div>

          <nav class="section-selector">
              <button id="btn-cortes" class="section-btn active">Cortes</button>
              <button id="btn-tutoriales" class="section-btn">Tutoriales</button>
              <button id="btn-relay" class="section-btn">Relay</button>
          </nav>
      </div>
  </header>

  <div id="contenido" class="content-section"></div>
  <div id="contenido-tutoriales" class="content-section" style="display: none;"></div>
  <div id="contenido-relay" class="content-section" style="display: none;"></div>
</div>

<div id="modalDetalle">
  <div id="detalleCompleto"></div>
</div>

<div id="lightbox" class="lightbox" onclick="cerrarLightbox()">
  <img id="lightboxImg" src="">
</div>

<!-- ========= MODAL DE INBOX ========= -->
<div id="inbox-modal" class="info-modal">
    <div class="info-modal-content" id="inbox-modal-content">
        <span class="info-close-btn">&times;</span>
        <h2 class="inbox-modal-title"><i class="fa-solid fa-inbox"></i> Bandeja de Entrada</h2>
        <div class="inbox-layout-wrapper">
            <div id="inbox-list">
                <!-- List of items will be rendered here -->
            </div>
            <div id="inbox-detail">
                <!-- Detail of selected item will be rendered here -->
            </div>
        </div>
    </div>
</div>

<!-- ========= MODAL DE DASHBOARD ========= -->
<div id="dashboard-modal" class="info-modal">
    <div class="info-modal-content" style="max-width: 900px;">
        <span class="info-close-btn">&times;</span>
        <h2 class="inbox-modal-title"><i class="fa-solid fa-chart-line"></i> Panel de Actividad</h2>
        <div style="overflow-x: auto;">
            <table style="width: 100%; border-collapse: collapse; margin-top: 15px;">
                <thead>
                    <tr style="border-bottom: 2px solid #eee; text-align: left;">
                        <th style="padding: 10px;">Fecha</th>
                        <th style="padding: 10px;">Usuario</th>
                        <th style="padding: 10px;">Actividad</th>
                        <th style="padding: 10px;">Detalle</th>
                    </tr>
                </thead>
                <tbody id="activity-logs">
                    <!-- Logs will be rendered here -->
                </tbody>
            </table>
        </div>
    </div>
</div>

<!-- ========= MODAL DE DESARROLLADOR ========= -->
<div id="dev-tools-modal" class="info-modal">
    <div class="info-modal-content" style="max-width: 900px;">
        <span class="info-close-btn">&times;</span>
        <h2><i class="fa-solid fa-code"></i> Herramientas de Desarrollador</h2>

        <div style="display: flex; gap: 20px;">
            <div style="flex: 1;">
                <h4>Consola de Depuraci√≥n</h4>
                <div id="dev-console-container" style="height: 400px; border: 1px solid #ccc; border-radius: 8px;">
                    <!-- The existing debug console will be moved here by JS -->
                </div>
            </div>
            <div style="flex: 1;">
                <h4>Acciones de Migraci√≥n</h4>
                <p>Ejecutar scripts de migraci√≥n de datos. Usar con precauci√≥n.</p>
                <div style="display: flex; flex-direction: column; gap: 10px;">
                    <button id="run-migrate-years" class="btn btn-warning">Migrar Rangos de A√±os</button>
                    <button id="run-migrate-timestamps" class="btn btn-warning">Migrar Timestamps</button>
                </div>
                <div id="migration-status" style="margin-top: 15px; padding: 10px; border-radius: 5px; background: #f0f0f0; display: none;"></div>
            </div>
        </div>
    </div>
</div>


<!-- ========= MODALES DE INFORMACI√ìN ========= -->
<div id="about-us-modal" class="info-modal">
  <div class="info-modal-content">
    <span class="info-close-btn">&times;</span>
    <h2>Sobre Nosotros</h2>
    <p>GPSpedia es una plataforma especializada en la consulta t√©cnica y estandarizada de informaci√≥n vehicular, orientada a t√©cnicos, instaladores y profesionales que trabajan con sistemas de rastreo, seguridad y control vehicular.</p>
    <p>Nuestro objetivo es facilitar el acceso r√°pido y confiable a informaci√≥n pr√°ctica, reduciendo errores en campo y optimizando los tiempos de instalaci√≥n mediante una base de conocimiento clara, visual y en constante evoluci√≥n.</p>
    <p>La informaci√≥n que se presenta en GPSpedia es el resultado de una recopilaci√≥n estructurada de datos t√©cnicos provenientes de m√∫ltiples fuentes de libre acceso, experiencias pr√°cticas y aportes colaborativos. No reclamamos derechos de autor sobre dicha informaci√≥n t√©cnica; su prop√≥sito es educativo, operativo y de apoyo profesional.</p>
    <hr>
    <h4>¬øQu√© ofrece GPSpedia?</h4>
    <p><strong>üîß Informaci√≥n de cortes vehiculares:</strong> Identificaci√≥n de puntos de corte el√©ctrico e ignici√≥n. Detalles claros sobre ubicaci√≥n, color del cable y tipo de corte recomendado.</p>
    <p><strong>üöó Tipos de cortes disponibles:</strong> Bomba de combustible, se√±al al bot√≥n, corte de ignici√≥n y apertura de puertas.</p>
    <hr>
    <h4>Configuraciones de Relay</h4>
    <p>GPSpedia incluye una secci√≥n dedicada a configuraciones de relay, donde se explican de forma visual y descriptiva la funci√≥n de cada pin, su uso recomendado y diagramas claros para facilitar la correcta conexi√≥n.</p>
    <hr>
    <h4>Tutoriales y gu√≠as visuales</h4>
    <p>Ofrecemos tutoriales paso a paso y gu√≠as visuales para la ubicaci√≥n de m√≥dulos, desarme b√°sico de interiores y reconocimiento de cableado.</p>
    <hr>
    <h4>Enfoque colaborativo y mejora continua</h4>
    <p>GPSpedia evoluciona constantemente gracias a la retroalimentaci√≥n de sus usuarios, lo que permite mejorar la precisi√≥n de la informaci√≥n y ampliar la cobertura de marcas y modelos.</p>
  </div>
</div>

<div id="contact-modal" class="info-modal">
  <div class="info-modal-content">
    <span class="info-close-btn">&times;</span>
    <h2>Cont√°ctanos</h2>
    <p>Si tienes sugerencias, problemas con la plataforma o necesitas soporte t√©cnico, por favor utiliza este formulario. Tu feedback es importante para nosotros.</p>
    <form id="contact-form">
      <div class="form-group">
        <label for="contact-name">Nombre</label>
        <input type="text" id="contact-name" required>
      </div>
      <div class="form-group">
        <label for="contact-email">Correo Electr√≥nico</label>
        <input type="email" id="contact-email" required>
      </div>
      <div class="form-group">
        <label for="contact-message">Mensaje</label>
        <textarea id="contact-message" rows="4" required></textarea>
      </div>
      <button type="submit" class="btn">Enviar Mensaje</button>
    </form>
  </div>
</div>

<div id="faq-modal" class="info-modal">
  <div class="info-modal-content">
    <span class="info-close-btn">&times;</span>
    <h2>Preguntas Frecuentes (FAQ)</h2>
    <div class="accordion">
      <div class="accordion-item"><div class="accordion-header">¬øGPSpedia es un sistema de rastreo GPS?<i class="fas fa-chevron-down"></i></div><div class="accordion-content"><p>No. GPSpedia no rastrea veh√≠culos ni gestiona dispositivos. Es una plataforma informativa y de consulta t√©cnica.</p></div></div>
      <div class="accordion-item"><div class="accordion-header">¬øLa informaci√≥n tiene derechos de autor?<i class="fas fa-chevron-down"></i></div><div class="accordion-content"><p>La informaci√≥n t√©cnica presentada es una compilaci√≥n de datos de libre acceso y conocimiento pr√°ctico, organizada con fines educativos y profesionales. GPSpedia no reclama autor√≠a exclusiva sobre dicha informaci√≥n.</p></div></div>
      <div class="accordion-item"><div class="accordion-header">¬øPuedo usar esta informaci√≥n en instalaciones reales?<i class="fas fa-chevron-down"></i></div><div class="accordion-content"><p>S√≠. El contenido est√° pensado para apoyo t√©cnico, pero siempre se recomienda que las instalaciones sean realizadas por personal capacitado y siguiendo buenas pr√°cticas de seguridad el√©ctrica.</p></div></div>
      <div class="accordion-item"><div class="accordion-header">¬øIncluye informaci√≥n para diferentes tipos de veh√≠culos?<i class="fas fa-chevron-down"></i></div><div class="accordion-content"><p>S√≠. La plataforma contempla distintas categor√≠as vehiculares, como autom√≥viles, camiones, motocicletas y equipos especiales, seg√∫n disponibilidad de informaci√≥n.</p></div></div>
      <div class="accordion-item"><div class="accordion-header">¬øLa informaci√≥n se actualiza?<i class="fas fa-chevron-down"></i></div><div class="accordion-content"><p>S√≠. GPSpedia est√° dise√±ada para crecer y mejorar continuamente, incorporando nuevos datos, correcciones y ampliaciones conforme se valida su uso en campo.</p></div></div>
      <div class="accordion-item"><div class="accordion-header">¬øGPSpedia ense√±a c√≥mo instalar dispositivos?<i class="fas fa-chevron-down"></i></div><div class="accordion-content"><p>GPSpedia no sustituye la capacitaci√≥n profesional, pero ofrece referencias t√©cnicas, diagramas y gu√≠as que facilitan el trabajo de t√©cnicos con experiencia.</p></div></div>
      <div class="accordion-item"><div class="accordion-header">¬øC√≥mo obtengo una cuenta?<i class="fas fa-chevron-down"></i></div><div class="accordion-content"><p>Para solicitar acceso, completa el formulario disponible en la secci√≥n ‚ÄúCont√°ctanos‚Äù. Nuestro equipo revisar√° la solicitud y te brindar√° seguimiento conforme al uso profesional de la plataforma.</p></div></div>
      <div class="accordion-item"><div class="accordion-header">¬øQu√© hacer si no est√° la informaci√≥n de un veh√≠culo?<i class="fas fa-chevron-down"></i></div><div class="accordion-content"><p>Si un veh√≠culo no cuenta a√∫n con informaci√≥n espec√≠fica, GPSpedia ofrece tutoriales descriptivos y material audiovisual que facilitan la identificaci√≥n de cables de corte, puntos de ignici√≥n y configuraciones comunes.</p></div></div>
    </div>
  </div>
</div>

<script type="module" src="main.js"></script>

<footer class="footer" style="display: none;">
  GPSpedia v2.0 ¬© 2026 todos los derechos reservados.
  <div class="footer-links">
      <a id="footer-about-link">Sobre Nosotros</a>
      <a id="footer-contact-link">Cont√°ctanos</a>
      <a id="footer-faq-link">Preguntas Frecuentes</a>
  </div>
</footer>

</body>
</html>